<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Student Profile</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
<div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Add Student Profile</h1>
    <a href="index.html" class="text-blue-600 underline">← Back to Profiles</a>
  </div>

  <form id="profileForm" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
    <input type="text" id="name" placeholder="Student Name" required class="border p-2 rounded w-full">
    <input type="text" id="grade" placeholder="Grade" required class="border p-2 rounded w-full">
    <button type="submit" class="col-span-full bg-green-600 text-white p-2 rounded hover:bg-green-700">Add Profile</button>
  </form>

  <p id="message" class="text-green-600 font-medium"></p>
</div>

<script>
const API_URL = "YOUR_WEB_APP_URL_HERE";
const API_KEY = "mrxlaKkzHck1qt0A7LBd91oLMo2EwI79qvVtWeLh5zMptix2vL2wMiHVayE1xmz5";

document.getElementById("profileForm").addEventListener("submit", async e => {
  e.preventDefault();
  const name = document.getElementById("name").value;
  const grade = document.getElementById("grade").value;
  const student = { id: Date.now().toString(), name, grade, key: API_KEY };

  await fetch(`${API_URL}?sheet=Students`, {
    method: "POST",
    body: JSON.stringify(student),
    headers: {'Content-Type': 'application/json'}
  });

  document.getElementById("message").textContent = "✅ Profile added!";
  document.getElementById("profileForm").reset();
});
</script>
</body>
</html>
